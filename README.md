# TV_shows_site
Курсовая работа по базам данных (GeekUniversity, факультет Искусственного интеллекта)

## Требования к курсовому проекту
1. Составить общее текстовое описание БД и решаемых ею задач;
2. минимальное количество таблиц - 10;
3. скрипты создания структуры БД (с первичными ключами, индексами, внешними ключами);
4. создать ERDiagram для БД;
5. скрипты характерных выборок (включающие группировки, JOIN'ы, вложенные таблицы);
6. представления (минимум 2);
7. хранимые процедуры / триггеры;

 **Примеры:** описать модель хранения данных популярного веб-сайта: кинопоиск, booking.com, wikipedia, интернет-магазин, geekbrains, госуслуги...

## Описание проекта

 Суть проекта tv_shows_site - упрощенная модель хранения данных сайта сериальной тематики с возможностью хранения информации о сериалах и отдельных эпизодах, новостей и обзоров, а также информации о пользователях, их оценках и предпочтениях.

## Таблицы БД

### serials
 - id
 - Название
 - Страна производства
 - Жанр
 - Краткое описание
 - Полное описание
 - Дата создания
 - Дата обновления

### users
 - id
 - Имя
 - Фамилия
 - Email
 - Password_hash
 - Телефон
 - Удален ли профиль

### episodes
 - id 
 - id сериала
 - Номер сезона
 - Номер эпизода
 - Название
 - Длительность
 - Дата создания
 - Дата обновления
 
### crew (сьемочная команда)
 - id
 - id сериала
 - Профессия
 - Имя
 - Фамилия
 - Пол
 - id фотографии
 
### news (новости)
 - id
 - id сериала
 - Текст сообщения
 - Дата создания
 - Дата обновления
 
### favorities (любимые сериалы пользователей)
 - id сериала
 - id пользователя
 - был ли сериал удален из любимых
 - дата создания
 - дата обновления

### user_ratings (оценка пользователей)
 - id пользователя
 - id эпизода
 - Рейтинг (от 1 до 5)
 - Дата создания
 - Дата обновления
 
### reviews (обзоры пользователей)
 - id
 - id сериала
 - id пользователя
 - Текст обзора
 - Дата создания
 - Дата обновления
 
 ### reviews_ratings (оценка обзоров другими пользователями)
  - id пользователя
  - id обзора
  - Рейтинг (от 1 до 5)
  - Дата создания
  - Дата обновления

### view_counter (счетчик просмотров)
 - id
 - id пользователя
 - id эпизода
 - дата создания
 

## Реализованные представления, процедуры и триггеры
- Стандарнтное представление пользователей
- Стандартное представление сериалов
- Процедура предложения пользователю сериала для просмотра на основании его текущих предпочтений
- Процедура предложения пользователю новости о его любимых сериалах
- Триггер проверки возраста сьемочной команды
- Триггер записи факта обновления какой-либо информации о сериалах в отдельную таблицу


*Для демонстрации работы скриптов с помощью сервиса filldb.info были сформированы абсолютно бессмысленные данные*
